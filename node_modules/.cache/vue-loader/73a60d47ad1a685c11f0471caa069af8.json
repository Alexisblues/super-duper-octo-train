{"remainingRequest":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/src/views/Login.vue","mtime":1595452610927},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nQmFyIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nQmFyLnZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJMb2dpbiIsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgTG9hZGluZ0JhcgogICAgfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzaG93UGFzczogZmFsc2UsCiAgICAgICAgICAgIGxvZ2luSW5mbzogewogICAgICAgICAgICAgICAgdXNlck5hbWU6ICIiLAogICAgICAgICAgICAgICAgcGFzc1dvcmQ6ICIiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdvRGFyazogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2V0V2l0aEV4cGlyeSh2YWx1ZSwgdHRsKXsKICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKQogICAgICAgICAgICBjb25zdCBpdGVtID0gewogICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgICAgICAgZXhwaXJ5OiBub3cuZ2V0VGltZSgpICsgdHRsKjEwMDAKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaXRlbSkKICAgICAgICB9LAogICAgICAgIGFzeW5jIHNpZ25JblZ1ZSgpewogICAgICAgICAgICBsZXQgbG9naW5BdHRlbXB0ID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNpZ25JbiIsIHRoaXMubG9naW5JbmZvKTsKICAgICAgICAgICAgaWYgKGxvZ2luQXR0ZW1wdC5lcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGxvZ2luQXR0ZW1wdC5lcnJvci5yZXNwb25zZS5zdGF0dXM9PT00MDEpewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJVc2VybmFtZSBvci9hbmQgcGFzc3dvcmQgaXMgbm90IGNvcnJlY3RlZCIpOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQobG9naW5BdHRlbXB0LmVycm9yLnJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGh0b2tlbicsCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaXRoRXhwaXJ5KGxvZ2luQXR0ZW1wdC5hdXRoVG9rZW4sIDEwKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgIGdvRGFyaygpewogICAgICAgICAgICB0aGlzLiR2dWV0aWZ5LnRoZW1lLmRhcmsgPSAhdGhpcy4kdnVldGlmeS50aGVtZS5kYXJrOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <v-container full-height fluid>\n        <v-row align=\"center\" justify=\"center\">\n            <v-card width=\"400px\" class=\"mt-5 mx-a\">\n                <v-toolbar color=\"purple darken-2\" dark flat>\n                    <v-toolbar-title>\n                        <strong>Sign In</strong>\n                    </v-toolbar-title>\n                    <v-spacer></v-spacer>\n                </v-toolbar>\n                <v-card-text>\n                    <v-form>\n                        <v-text-field v-model=\"loginInfo.userName\" label=\"Username\" type=\"text\" \n                        prepend-icon=\"mdi-account-circle\"/>\n                        <v-text-field v-model=\"loginInfo.passWord\" label=\"Password\" :type=\"showPass ? 'text' : 'password'\" \n                        prepend-icon=\"mdi-lock\"\n                        :append-icon=\"showPass ? 'mdi-eye' : 'mdi-eye-off'\"\n                        @click:append=\"showPass = ! showPass\"/>\n                    </v-form>\n                </v-card-text>\n                <v-divider></v-divider>\n                <v-card-actions>\n                    <v-switch :label=\"`Dark Theme`\" v-model=\"goDark\" color=\"purple darken-2\"></v-switch>\n                    <v-spacer></v-spacer>\n                    <LoadingBar buttonText=\"Login\" v-on:to-signin=\"signInVue\" />\n                </v-card-actions>\n            </v-card>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\nimport LoadingBar from '@/components/LoadingBar.vue'\n\nexport default {\n    name: \"Login\",\n    components: {\n        LoadingBar\n    },\n    data(){\n        return {\n            showPass: false,\n            loginInfo: {\n                userName: \"\",\n                passWord: \"\"\n            },\n            goDark: true\n        }\n    },\n    methods: {\n        setWithExpiry(value, ttl){\n            const now = new Date()\n            const item = {\n                value: value,\n                expiry: now.getTime() + ttl*1000\n            }\n            return JSON.stringify(item)\n        },\n        async signInVue(){\n            let loginAttempt = await this.$store.dispatch(\"signIn\", this.loginInfo);\n            if (loginAttempt.error) {\n                if (loginAttempt.error.response.status===401){\n                    alert(\"Username or/and password is not corrected\");\n                }else{\n                    alert(loginAttempt.error.response.status);\n                }\n            }else{\n                localStorage.setItem('authtoken',\n                    this.setWithExpiry(loginAttempt.authToken, 10)\n                );\n                this.$router.push('/');\n            }\n        }\n    },\n    watch:{\n        goDark(){\n            this.$vuetify.theme.dark = !this.$vuetify.theme.dark;\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>"]}]}