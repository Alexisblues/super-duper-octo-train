{"remainingRequest":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/babel-loader/lib/index.js!/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/eslint-loader/index.js??ref--13-0!/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/src/router/index.js","dependencies":[{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/src/router/index.js","mtime":1595965864119},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/cache-loader/dist/cjs.js","mtime":1595882030066},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/babel-loader/lib/index.js","mtime":1595882030078},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/eslint-loader/index.js","mtime":1595882029558}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9Ib21lLnZ1ZSc7CmltcG9ydCBMb2dpbiBmcm9tICcuLi92aWV3cy9Mb2dpbi52dWUnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvJywKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50OiBIb21lLAogIG1ldGE6IHsKICAgIHRpdGxlOiAnQXJiaXRyaXVtU3Bsb2l0IC0gSG9tZScKICB9Cn0sIHsKICBwYXRoOiAnL2Fib3V0JywKICBuYW1lOiAnQWJvdXQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvQWJvdXQudnVlJyk7CiAgfSwKICBtZXRhOiB7CiAgICB0aXRsZTogJ0FyYml0cml1bVNwbG9pdCAtIEFib3V0JwogIH0KfSwgewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBMb2dpbiwKICBtZXRhOiB7CiAgICB0aXRsZTogJ0FyYml0cml1bVNwbG9pdCAtIExvZ2luJwogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7CgpmdW5jdGlvbiBnZXRXaXRoRXhwaXJ5KGtleSkgewogIHZhciBpdGVtU3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTsKCiAgaWYgKCFpdGVtU3RyKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHZhciBpdGVtID0gSlNPTi5wYXJzZShpdGVtU3RyKTsKICB2YXIgbm93ID0gbmV3IERhdGUoKTsKCiAgaWYgKG5vdy5nZXRUaW1lKCkgPiBpdGVtLmV4cGlyeSkgewogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTsKICAgIHJldHVybiBudWxsOwogIH0KCiAgcmV0dXJuIGl0ZW0udmFsdWU7Cn0KCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIHZhciBwdWJsaWNQYWdlcyA9IFsnL2xvZ2luJ107CiAgdmFyIGF1dGhSZXF1aXJlZCA9ICFwdWJsaWNQYWdlcy5pbmNsdWRlcyh0by5wYXRoKTsKICB2YXIgbG9nZ2VkSW4gPSBnZXRXaXRoRXhwaXJ5KCdhdXRodG9rZW4nKTsKCiAgaWYgKHRvLnBhdGggPT09ICcvbG9naW4nICYmIGxvZ2dlZEluKSB7CiAgICByZXR1cm4gbmV4dCgnLycpOwogIH0gZWxzZSBpZiAoYXV0aFJlcXVpcmVkICYmICFsb2dnZWRJbikgewogICAgcmV0dXJuIG5leHQoJy9sb2dpbicpOwogIH0KCiAgbmV4dCgpOwp9KTsKdmFyIERFRkFVTFRfVElUTEUgPSAnQXJiaXRyaXVtU3Bsb2l0JzsKcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAodG8pIHsKICBWdWUubmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSB0by5tZXRhLnRpdGxlIHx8IERFRkFVTFRfVElUTEU7CiAgfSk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/src/router/index.js"],"names":["Vue","VueRouter","Home","Login","use","routes","path","name","component","meta","title","router","mode","base","process","env","BASE_URL","getWithExpiry","key","itemStr","localStorage","getItem","item","JSON","parse","now","Date","getTime","expiry","removeItem","value","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","DEFAULT_TITLE","afterEach","nextTick","document"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AAGAH,GAAG,CAACI,GAAJ,CAAQH,SAAR;AAEE,IAAMI,MAAM,GAAG,CACf;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEN,IAHb;AAIEO,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE;AADH;AAJR,CADe,EASf;AACEJ,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA,GAHb;AAIEC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE;AADH;AAJR,CATe,EAiBf;AACEJ,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAEL,KAHb;AAIEM,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE;AADH;AAJR,CAjBe,CAAf;AA2BF,IAAMC,MAAM,GAAG,IAAIV,SAAJ,CAAc;AAC3BW,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BX,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;;AAQA,SAASY,aAAT,CAAuBC,GAAvB,EAA4B;AAC3B,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqBH,GAArB,CAAhB;;AACA,MAAI,CAACC,OAAL,EAAc;AACb,WAAO,IAAP;AACA;;AACD,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,OAAX,CAAb;AACA,MAAMM,GAAG,GAAG,IAAIC,IAAJ,EAAZ;;AACA,MAAID,GAAG,CAACE,OAAJ,KAAgBL,IAAI,CAACM,MAAzB,EAAiC;AAChCR,IAAAA,YAAY,CAACS,UAAb,CAAwBX,GAAxB;AACA,WAAO,IAAP;AACA;;AACD,SAAOI,IAAI,CAACQ,KAAZ;AACA;;AAGDnB,MAAM,CAACoB,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,WAAW,GAAG,CAAC,QAAD,CAApB;AACA,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAAC1B,IAAxB,CAAtB;AACA,MAAMgC,QAAQ,GAAGrB,aAAa,CAAC,WAAD,CAA9B;;AACA,MAAIe,EAAE,CAAC1B,IAAH,KAAU,QAAV,IAAsBgC,QAA1B,EAAmC;AACjC,WAAOJ,IAAI,CAAC,GAAD,CAAX;AACD,GAFD,MAEM,IAAIE,YAAY,IAAI,CAACE,QAArB,EAA+B;AACnC,WAAOJ,IAAI,CAAC,QAAD,CAAX;AACD;;AACDA,EAAAA,IAAI;AACL,CAVD;AAaA,IAAMK,aAAa,GAAG,iBAAtB;AACA5B,MAAM,CAAC6B,SAAP,CAAiB,UAACR,EAAD,EAAQ;AACrBhC,EAAAA,GAAG,CAACyC,QAAJ,CAAa,YAAM;AACfC,IAAAA,QAAQ,CAAChC,KAAT,GAAiBsB,EAAE,CAACvB,IAAH,CAAQC,KAAR,IAAiB6B,aAAlC;AACH,GAFD;AAGH,CAJD;AAMA,eAAe5B,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Login from '../views/Login.vue'\n\n\nVue.use(VueRouter)\n\n  const routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n    meta: {\n      title: 'ArbitriumSploit - Home'\n    }\n  },\n  {\n    path: '/about',\n    name: 'About',\n    component: () => import('../views/About.vue'),\n    meta: {\n      title: 'ArbitriumSploit - About'\n    }\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login,\n    meta: {\n      title: 'ArbitriumSploit - Login'\n    }\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n\n\nfunction getWithExpiry(key) {\n\tconst itemStr = localStorage.getItem(key)\n\tif (!itemStr) {\n\t\treturn null\n\t}\n\tconst item = JSON.parse(itemStr)\n\tconst now = new Date()\n\tif (now.getTime() > item.expiry) {\n\t\tlocalStorage.removeItem(key)\n\t\treturn null\n\t}\n\treturn item.value\n}\n\n\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/login'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = getWithExpiry('authtoken');\n  if (to.path==='/login' && loggedIn){\n    return next('/');\n  }else if (authRequired && !loggedIn) {\n    return next('/login');\n  }\n  next();\n})\n\n\nconst DEFAULT_TITLE = 'ArbitriumSploit';\nrouter.afterEach((to) => {\n    Vue.nextTick(() => {\n        document.title = to.meta.title || DEFAULT_TITLE;\n    });\n});\n\nexport default router\n"]}]}