{"remainingRequest":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/babel-loader/lib/index.js!/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/src/views/Login.vue","mtime":1595452610927},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcjAwdC9wcm9qZWN0cy8wZGF5X2lvdC9BcmJpdHJpdW0vYXJiaXRyaXVtNC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBMb2FkaW5nQmFyIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nQmFyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdCYXI6IExvYWRpbmdCYXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93UGFzczogZmFsc2UsCiAgICAgIGxvZ2luSW5mbzogewogICAgICAgIHVzZXJOYW1lOiAiIiwKICAgICAgICBwYXNzV29yZDogIiIKICAgICAgfSwKICAgICAgZ29EYXJrOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2V0V2l0aEV4cGlyeTogZnVuY3Rpb24gc2V0V2l0aEV4cGlyeSh2YWx1ZSwgdHRsKSB7CiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgaXRlbSA9IHsKICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgZXhwaXJ5OiBub3cuZ2V0VGltZSgpICsgdHRsICogMTAwMAogICAgICB9OwogICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaXRlbSk7CiAgICB9LAogICAgc2lnbkluVnVlOiBmdW5jdGlvbiBzaWduSW5WdWUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBsb2dpbkF0dGVtcHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJzaWduSW4iLCBfdGhpcy5sb2dpbkluZm8pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBsb2dpbkF0dGVtcHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChsb2dpbkF0dGVtcHQuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGxvZ2luQXR0ZW1wdC5lcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJVc2VybmFtZSBvci9hbmQgcGFzc3dvcmQgaXMgbm90IGNvcnJlY3RlZCIpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KGxvZ2luQXR0ZW1wdC5lcnJvci5yZXNwb25zZS5zdGF0dXMpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aHRva2VuJywgX3RoaXMuc2V0V2l0aEV4cGlyeShsb2dpbkF0dGVtcHQuYXV0aFRva2VuLCAxMCkpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBnb0Rhcms6IGZ1bmN0aW9uIGdvRGFyaygpIHsKICAgICAgdGhpcy4kdnVldGlmeS50aGVtZS5kYXJrID0gIXRoaXMuJHZ1ZXRpZnkudGhlbWUuZGFyazsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,UAAA,MAAA,6BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAFA;AAMA,MAAA,MAAA,EAAA;AANA,KAAA;AAQA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,KADA,EACA,GADA,EACA;AACA,UAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,MAAA,EAAA,GAAA,CAAA,OAAA,KAAA,GAAA,GAAA;AAFA,OAAA;AAIA,aAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,KARA;AASA,IAAA,SATA,uBASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,QAAA,EAAA,KAAA,CAAA,SAAA,CADA;;AAAA;AACA,gBAAA,YADA;;AAEA,oBAAA,YAAA,CAAA,KAAA,EAAA;AACA,sBAAA,YAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,oBAAA,KAAA,CAAA,2CAAA,CAAA;AACA,mBAFA,MAEA;AACA,oBAAA,KAAA,CAAA,YAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA;AACA;AACA,iBANA,MAMA;AACA,kBAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EACA,KAAA,CAAA,aAAA,CAAA,YAAA,CAAA,SAAA,EAAA,EAAA,CADA;;AAGA,kBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAvBA,GAfA;AAwCA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,QAAA,CAAA,KAAA,CAAA,IAAA,GAAA,CAAA,KAAA,QAAA,CAAA,KAAA,CAAA,IAAA;AACA;AAHA;AAxCA,CAAA","sourcesContent":["<template>\n    <v-container full-height fluid>\n        <v-row align=\"center\" justify=\"center\">\n            <v-card width=\"400px\" class=\"mt-5 mx-a\">\n                <v-toolbar color=\"purple darken-2\" dark flat>\n                    <v-toolbar-title>\n                        <strong>Sign In</strong>\n                    </v-toolbar-title>\n                    <v-spacer></v-spacer>\n                </v-toolbar>\n                <v-card-text>\n                    <v-form>\n                        <v-text-field v-model=\"loginInfo.userName\" label=\"Username\" type=\"text\" \n                        prepend-icon=\"mdi-account-circle\"/>\n                        <v-text-field v-model=\"loginInfo.passWord\" label=\"Password\" :type=\"showPass ? 'text' : 'password'\" \n                        prepend-icon=\"mdi-lock\"\n                        :append-icon=\"showPass ? 'mdi-eye' : 'mdi-eye-off'\"\n                        @click:append=\"showPass = ! showPass\"/>\n                    </v-form>\n                </v-card-text>\n                <v-divider></v-divider>\n                <v-card-actions>\n                    <v-switch :label=\"`Dark Theme`\" v-model=\"goDark\" color=\"purple darken-2\"></v-switch>\n                    <v-spacer></v-spacer>\n                    <LoadingBar buttonText=\"Login\" v-on:to-signin=\"signInVue\" />\n                </v-card-actions>\n            </v-card>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\nimport LoadingBar from '@/components/LoadingBar.vue'\n\nexport default {\n    name: \"Login\",\n    components: {\n        LoadingBar\n    },\n    data(){\n        return {\n            showPass: false,\n            loginInfo: {\n                userName: \"\",\n                passWord: \"\"\n            },\n            goDark: true\n        }\n    },\n    methods: {\n        setWithExpiry(value, ttl){\n            const now = new Date()\n            const item = {\n                value: value,\n                expiry: now.getTime() + ttl*1000\n            }\n            return JSON.stringify(item)\n        },\n        async signInVue(){\n            let loginAttempt = await this.$store.dispatch(\"signIn\", this.loginInfo);\n            if (loginAttempt.error) {\n                if (loginAttempt.error.response.status===401){\n                    alert(\"Username or/and password is not corrected\");\n                }else{\n                    alert(loginAttempt.error.response.status);\n                }\n            }else{\n                localStorage.setItem('authtoken',\n                    this.setWithExpiry(loginAttempt.authToken, 10)\n                );\n                this.$router.push('/');\n            }\n        }\n    },\n    watch:{\n        goDark(){\n            this.$vuetify.theme.dark = !this.$vuetify.theme.dark;\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>"],"sourceRoot":"src/views"}]}