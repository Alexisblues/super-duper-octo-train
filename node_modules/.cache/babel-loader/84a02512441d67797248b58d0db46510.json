{"remainingRequest":"/root/Arbitrium/Arbitrium_ControlPanel/node_modules/babel-loader/lib/index.js!/root/Arbitrium/Arbitrium_ControlPanel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/root/Arbitrium/Arbitrium_ControlPanel/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/Arbitrium/Arbitrium_ControlPanel/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/Arbitrium/Arbitrium_ControlPanel/src/views/Login.vue","mtime":1608611814949},{"path":"/root/Arbitrium/Arbitrium_ControlPanel/node_modules/cache-loader/dist/cjs.js","mtime":1608611815941},{"path":"/root/Arbitrium/Arbitrium_ControlPanel/node_modules/babel-loader/lib/index.js","mtime":1608611816297},{"path":"/root/Arbitrium/Arbitrium_ControlPanel/node_modules/cache-loader/dist/cjs.js","mtime":1608611815941},{"path":"/root/Arbitrium/Arbitrium_ControlPanel/node_modules/vue-loader/lib/index.js","mtime":1608611815653}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL3Jvb3QvQXJiaXRyaXVtL0FyYml0cml1bV9Db250cm9sUGFuZWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1Bhc3M6IGZhbHNlLAogICAgICBsb2dpbkluZm86IHsKICAgICAgICB1c2VyTmFtZTogIiIsCiAgICAgICAgcGFzc1dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIGdvRGFyazogdHJ1ZSwKICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLAogICAgICBzbmFja2JhcjogZmFsc2UsCiAgICAgIHNuYWNrYmFyVGV4dDogIkxvZ2luIGZhaWxlZCIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRXaXRoRXhwaXJ5OiBmdW5jdGlvbiBzZXRXaXRoRXhwaXJ5KHZhbHVlLCB0dGwpIHsKICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBpdGVtID0gewogICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICBleHBpcnk6IG5vdy5nZXRUaW1lKCkgKyB0dGwgKiAxMDAwCiAgICAgIH07CiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpdGVtKTsKICAgIH0sCiAgICBzaWduSW5WdWU6IGZ1bmN0aW9uIHNpZ25JblZ1ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGxvZ2luQXR0ZW1wdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNpZ25JbiIsIF90aGlzLmxvZ2luSW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGxvZ2luQXR0ZW1wdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGxvZ2luQXR0ZW1wdC5lcnJvcikgewogICAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBfdGhpcy5zbmFja2JhciA9IHRydWU7CgogICAgICAgICAgICAgICAgICBpZiAobG9naW5BdHRlbXB0LmVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc25hY2tiYXJUZXh0ID0gIlVzZXJuYW1lIG9yL2FuZCBwYXNzd29yZCBpcyBub3QgY29ycmVjdGVkIjsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zbmFja2JhclRleHQgPSAiSW50ZXJuYWwgZXJyb3IiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aHRva2VuJywgX3RoaXMuc2V0V2l0aEV4cGlyeShsb2dpbkF0dGVtcHQuYXV0aFRva2VuLCAzNjAwKSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGdvRGFyazogZnVuY3Rpb24gZ29EYXJrKCkgewogICAgICB0aGlzLiR2dWV0aWZ5LnRoZW1lLmRhcmsgPSAhdGhpcy4kdnVldGlmeS50aGVtZS5kYXJrOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAFA;AAMA,MAAA,MAAA,EAAA,IANA;AAOA,MAAA,WAAA,EAAA,KAPA;AAQA,MAAA,QAAA,EAAA,KARA;AASA,MAAA,YAAA,EAAA;AATA,KAAA;AAWA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,KADA,EACA,GADA,EACA;AACA,UAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,MAAA,EAAA,GAAA,CAAA,OAAA,KAAA,GAAA,GAAA;AAFA,OAAA;AAIA,aAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,KARA;AASA,IAAA,SATA,uBASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AADA;AAAA,uBAEA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,QAAA,EAAA,KAAA,CAAA,SAAA,CAFA;;AAAA;AAEA,gBAAA,YAFA;;AAGA,oBAAA,YAAA,CAAA,KAAA,EAAA;AACA,kBAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,IAAA;;AACA,sBAAA,YAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,oBAAA,KAAA,CAAA,YAAA,GAAA,2CAAA;AACA,mBAFA,MAEA;AACA,oBAAA,KAAA,CAAA,YAAA,GAAA,gBAAA;AACA;AACA,iBARA,MAQA;AACA,kBAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EACA,KAAA,CAAA,aAAA,CAAA,YAAA,CAAA,SAAA,EAAA,IAAA,CADA;;AAGA,kBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AA1BA,GAlBA;AA8CA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,QAAA,CAAA,KAAA,CAAA,IAAA,GAAA,CAAA,KAAA,QAAA,CAAA,KAAA,CAAA,IAAA;AACA;AAHA;AA9CA,CAAA","sourcesContent":["<template>\n    <v-container full-height fluid>\n        <v-row align=\"center\" justify=\"center\">\n            <v-card width=\"400px\" class=\"mt-5 mx-a\" :loading=\"showLoading\">\n                <v-toolbar color=\"purple darken-2\" dark flat>\n                    <v-toolbar-title>\n                        <strong>Sign In</strong>\n                    </v-toolbar-title>\n                    <v-spacer></v-spacer>\n                </v-toolbar>\n                <v-card-text>\n                    <v-form>\n                        <v-text-field v-model=\"loginInfo.userName\" label=\"Username\" type=\"text\" \n                        prepend-icon=\"mdi-account-circle\"/>\n                        <v-text-field v-model=\"loginInfo.passWord\" label=\"Password\" :type=\"showPass ? 'text' : 'password'\" \n                        prepend-icon=\"mdi-lock\"\n                        :append-icon=\"showPass ? 'mdi-eye' : 'mdi-eye-off'\"\n                        @click:append=\"showPass = ! showPass\"\n                        v-on:keyup.enter=\"signInVue\"\n                        />\n                    </v-form>\n                </v-card-text>\n                <v-divider></v-divider>\n                <v-card-actions>\n                    <v-switch :label=\"`Dark Theme`\" v-model=\"goDark\" color=\"purple darken-2\"></v-switch>\n                    <v-spacer></v-spacer>\n\n                    <v-btn\n                    :disabled=\"showLoading\"\n                    class=\"white--text\"\n                    color=\"purple darken-2\"\n                    v-on:click=\"signInVue\"\n                    >\n                    LOGIN\n                    </v-btn>\n\n                </v-card-actions>\n            </v-card>\n        </v-row>\n\n    <v-snackbar\n      v-model=\"snackbar\"\n    >\n      {{ snackbarText }}\n\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          color=\"pink\"\n          text\n          v-bind=\"attrs\"\n          @click=\"snackbar = false\"\n        >\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n\n\n    </v-container>\n</template>\n\n<script>\n\nexport default {\n    name: \"Login\",\n    components: {\n        \n    },\n    data(){\n        return {\n            showPass: false,\n            loginInfo: {\n                userName: \"\",\n                passWord: \"\"\n            },\n            goDark: true,\n            showLoading: false,\n            snackbar: false,\n            snackbarText: \"Login failed\"\n        }\n    },\n    methods: {\n        setWithExpiry(value, ttl){\n            const now = new Date()\n            const item = {\n                value: value,\n                expiry: now.getTime() + ttl*1000\n            }\n            return JSON.stringify(item)\n        },\n        async signInVue(){\n            this.showLoading = true;\n            let loginAttempt = await this.$store.dispatch(\"signIn\", this.loginInfo);\n            if (loginAttempt.error) {\n                this.showLoading = false;\n                this.snackbar = true;\n                if (loginAttempt.error.response.status===401){\n                    this.snackbarText = \"Username or/and password is not corrected\";\n                }else{\n                    this.snackbarText = \"Internal error\";\n                }\n            }else{\n                localStorage.setItem('authtoken',\n                    this.setWithExpiry(loginAttempt.authToken, 3600)\n                );\n                this.$router.push('/');\n            }\n        }\n    },\n    watch:{\n        goDark(){\n            this.$vuetify.theme.dark = !this.$vuetify.theme.dark;\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>"],"sourceRoot":"src/views"}]}