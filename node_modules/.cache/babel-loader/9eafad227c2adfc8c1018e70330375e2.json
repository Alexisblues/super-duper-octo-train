{"remainingRequest":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/babel-loader/lib/index.js!/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/eslint-loader/index.js??ref--13-0!/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/src/router/index.js","dependencies":[{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/src/router/index.js","mtime":1608407431224},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/cache-loader/dist/cjs.js","mtime":1608403031305},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/babel-loader/lib/index.js","mtime":1608403031565},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/eslint-loader/index.js","mtime":1608403030549}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9Ib21lLnZ1ZSc7CmltcG9ydCBMb2dpbiBmcm9tICcuLi92aWV3cy9Mb2dpbi52dWUnOwppbXBvcnQgU2hlbGwgZnJvbSAnLi4vdmlld3MvU2hlbGwudnVlJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZSwKICBtZXRhOiB7CiAgICB0aXRsZTogJ0FyYml0cml1bVNwbG9pdCAtIEhvbWUnCiAgfQp9LCB7CiAgcGF0aDogJy9hYm91dCcsCiAgbmFtZTogJ0Fib3V0JywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL0Fib3V0LnZ1ZScpOwogIH0sCiAgbWV0YTogewogICAgdGl0bGU6ICdBcmJpdHJpdW1TcGxvaXQgLSBBYm91dCcKICB9Cn0sIHsKICBwYXRoOiAnL2xvZ2luJywKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudDogTG9naW4sCiAgbWV0YTogewogICAgdGl0bGU6ICdBcmJpdHJpdW1TcGxvaXQgLSBMb2dpbicKICB9Cn0sIHsKICBwYXRoOiAnL3NoZWxsLzp1dWlkLzp0aHJlYWRpZC86UFNib29sJywKICBuYW1lOiAnU2hlbGwnLAogIGNvbXBvbmVudDogU2hlbGwsCiAgbWV0YTogewogICAgdGl0bGU6ICdBcmJpdHJpdW1TcGxvaXQgLSBTaGVsbCcKICB9LAogIHByb3BzOiB0cnVlCn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOwoKZnVuY3Rpb24gZ2V0V2l0aEV4cGlyeShrZXkpIHsKICB2YXIgaXRlbVN0ciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7CgogIGlmICghaXRlbVN0cikgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICB2YXIgaXRlbSA9IEpTT04ucGFyc2UoaXRlbVN0cik7CiAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7CgogIGlmIChub3cuZ2V0VGltZSgpID4gaXRlbS5leHBpcnkpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHJldHVybiBpdGVtLnZhbHVlOwp9Cgpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgcHVibGljUGFnZXMgPSBbJy9sb2dpbiddOwogIHZhciBhdXRoUmVxdWlyZWQgPSAhcHVibGljUGFnZXMuaW5jbHVkZXModG8ucGF0aCk7CiAgdmFyIGxvZ2dlZEluID0gZ2V0V2l0aEV4cGlyeSgnYXV0aHRva2VuJyk7CgogIGlmIChsb2dnZWRJbikgewogICAgc3RvcmUuY29tbWl0KCJtX3NpZ25JbiIsIHsKICAgICAgYXV0aFRva2VuOiBsb2dnZWRJbiwKICAgICAgdXNlck5hbWU6ICcnCiAgICB9KTsKICB9CgogIGlmICh0by5wYXRoID09PSAnL2xvZ2luJyAmJiBsb2dnZWRJbikgewogICAgcmV0dXJuIG5leHQoJy8nKTsKICB9IGVsc2UgaWYgKGF1dGhSZXF1aXJlZCAmJiAhbG9nZ2VkSW4pIHsKICAgIHJldHVybiBuZXh0KCcvbG9naW4nKTsKICB9CgogIG5leHQoKTsKfSk7CnZhciBERUZBVUxUX1RJVExFID0gJ0FyYml0cml1bVNwbG9pdCc7CnJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKHRvKSB7CiAgVnVlLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gdG8ubWV0YS50aXRsZSB8fCBERUZBVUxUX1RJVExFOwogIH0pOwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/src/router/index.js"],"names":["Vue","VueRouter","Home","Login","Shell","store","use","routes","path","name","component","meta","title","props","router","mode","base","process","env","BASE_URL","getWithExpiry","key","itemStr","localStorage","getItem","item","JSON","parse","now","Date","getTime","expiry","removeItem","value","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","commit","authToken","userName","DEFAULT_TITLE","afterEach","nextTick","document"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Login from '../views/Login.vue'\nimport Shell from '../views/Shell.vue'\nimport store from '../store'\n\nVue.use(VueRouter)\n\n  const routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n    meta: {\n      title: 'ArbitriumSploit - Home'\n    }\n  },\n  {\n    path: '/about',\n    name: 'About',\n    component: () => import('../views/About.vue'),\n    meta: {\n      title: 'ArbitriumSploit - About'\n    }\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login,\n    meta: {\n      title: 'ArbitriumSploit - Login'\n    }\n  },\n  {\n    path: '/shell/:uuid/:threadid/:PSbool',\n    name: 'Shell',\n    component: Shell,\n    meta: {\n      title: 'ArbitriumSploit - Shell'\n    },\n    props: true\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n\n\nfunction getWithExpiry(key) {\n\tconst itemStr = localStorage.getItem(key)\n\tif (!itemStr) {\n\t\treturn null\n\t}\n\tconst item = JSON.parse(itemStr)\n\tconst now = new Date()\n\tif (now.getTime() > item.expiry) {\n\t\tlocalStorage.removeItem(key)\n\t\treturn null\n\t}\n\treturn item.value\n}\n\n\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/login'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = getWithExpiry('authtoken');\n  if (loggedIn){\n    store.commit(\"m_signIn\", {authToken: loggedIn, userName: ''});\n  }\n  if (to.path==='/login' && loggedIn){\n    return next('/');\n  }else if (authRequired && !loggedIn) {\n    return next('/login');\n  }\n  next();\n})\n\n\nconst DEFAULT_TITLE = 'ArbitriumSploit';\nrouter.afterEach((to) => {\n    Vue.nextTick(() => {\n        document.title = to.meta.title || DEFAULT_TITLE;\n    });\n});\n\nexport default router\n"]}]}