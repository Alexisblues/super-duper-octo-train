{"remainingRequest":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/babel-loader/lib/index.js!/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/src/views/Login.vue","mtime":1608407708879},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/cache-loader/dist/cjs.js","mtime":1608403031305},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/babel-loader/lib/index.js","mtime":1608403031565},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/cache-loader/dist/cjs.js","mtime":1608403031305},{"path":"/home/r00t/projects/0day_iot/Arbitrium/arbitrium5/node_modules/vue-loader/lib/index.js","mtime":1608403030785}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcjAwdC9wcm9qZWN0cy8wZGF5X2lvdC9BcmJpdHJpdW0vYXJiaXRyaXVtNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93UGFzczogZmFsc2UsCiAgICAgIGxvZ2luSW5mbzogewogICAgICAgIHVzZXJOYW1lOiAiIiwKICAgICAgICBwYXNzV29yZDogIiIKICAgICAgfSwKICAgICAgZ29EYXJrOiB0cnVlLAogICAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgICAgIHNuYWNrYmFyOiBmYWxzZSwKICAgICAgc25hY2tiYXJUZXh0OiAiTG9naW4gZmFpbGVkIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFdpdGhFeHBpcnk6IGZ1bmN0aW9uIHNldFdpdGhFeHBpcnkodmFsdWUsIHR0bCkgewogICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgIGV4cGlyeTogbm93LmdldFRpbWUoKSArIHR0bCAqIDEwMDAKICAgICAgfTsKICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGl0ZW0pOwogICAgfSwKICAgIHNpZ25JblZ1ZTogZnVuY3Rpb24gc2lnbkluVnVlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgbG9naW5BdHRlbXB0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgic2lnbkluIiwgX3RoaXMubG9naW5JbmZvKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgbG9naW5BdHRlbXB0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAobG9naW5BdHRlbXB0LmVycm9yKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF90aGlzLnNuYWNrYmFyID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgIGlmIChsb2dpbkF0dGVtcHQuZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zbmFja2JhclRleHQgPSAiVXNlcm5hbWUgb3IvYW5kIHBhc3N3b3JkIGlzIG5vdCBjb3JyZWN0ZWQiOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnNuYWNrYmFyVGV4dCA9ICJJbnRlcm5hbCBlcnJvciI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRodG9rZW4nLCBfdGhpcy5zZXRXaXRoRXhwaXJ5KGxvZ2luQXR0ZW1wdC5hdXRoVG9rZW4sIDM2MDApKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZ29EYXJrOiBmdW5jdGlvbiBnb0RhcmsoKSB7CiAgICAgIHRoaXMuJHZ1ZXRpZnkudGhlbWUuZGFyayA9ICF0aGlzLiR2dWV0aWZ5LnRoZW1lLmRhcms7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAFA;AAMA,MAAA,MAAA,EAAA,IANA;AAOA,MAAA,WAAA,EAAA,KAPA;AAQA,MAAA,QAAA,EAAA,KARA;AASA,MAAA,YAAA,EAAA;AATA,KAAA;AAWA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,KADA,EACA,GADA,EACA;AACA,UAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,MAAA,EAAA,GAAA,CAAA,OAAA,KAAA,GAAA,GAAA;AAFA,OAAA;AAIA,aAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,KARA;AASA,IAAA,SATA,uBASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AADA;AAAA,uBAEA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,QAAA,EAAA,KAAA,CAAA,SAAA,CAFA;;AAAA;AAEA,gBAAA,YAFA;;AAGA,oBAAA,YAAA,CAAA,KAAA,EAAA;AACA,kBAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,IAAA;;AACA,sBAAA,YAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,oBAAA,KAAA,CAAA,YAAA,GAAA,2CAAA;AACA,mBAFA,MAEA;AACA,oBAAA,KAAA,CAAA,YAAA,GAAA,gBAAA;AACA;AACA,iBARA,MAQA;AACA,kBAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EACA,KAAA,CAAA,aAAA,CAAA,YAAA,CAAA,SAAA,EAAA,IAAA,CADA;;AAGA,kBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AA1BA,GAlBA;AA8CA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,QAAA,CAAA,KAAA,CAAA,IAAA,GAAA,CAAA,KAAA,QAAA,CAAA,KAAA,CAAA,IAAA;AACA;AAHA;AA9CA,CAAA","sourcesContent":["<template>\n    <v-container full-height fluid>\n        <v-row align=\"center\" justify=\"center\">\n            <v-card width=\"400px\" class=\"mt-5 mx-a\" :loading=\"showLoading\">\n                <v-toolbar color=\"purple darken-2\" dark flat>\n                    <v-toolbar-title>\n                        <strong>Sign In</strong>\n                    </v-toolbar-title>\n                    <v-spacer></v-spacer>\n                </v-toolbar>\n                <v-card-text>\n                    <v-form>\n                        <v-text-field v-model=\"loginInfo.userName\" label=\"Username\" type=\"text\" \n                        prepend-icon=\"mdi-account-circle\"/>\n                        <v-text-field v-model=\"loginInfo.passWord\" label=\"Password\" :type=\"showPass ? 'text' : 'password'\" \n                        prepend-icon=\"mdi-lock\"\n                        :append-icon=\"showPass ? 'mdi-eye' : 'mdi-eye-off'\"\n                        @click:append=\"showPass = ! showPass\"\n                        v-on:keyup.enter=\"signInVue\"\n                        />\n                    </v-form>\n                </v-card-text>\n                <v-divider></v-divider>\n                <v-card-actions>\n                    <v-switch :label=\"`Dark Theme`\" v-model=\"goDark\" color=\"purple darken-2\"></v-switch>\n                    <v-spacer></v-spacer>\n\n                    <v-btn\n                    :disabled=\"showLoading\"\n                    class=\"white--text\"\n                    color=\"purple darken-2\"\n                    v-on:click=\"signInVue\"\n                    >\n                    LOGIN\n                    </v-btn>\n\n                </v-card-actions>\n            </v-card>\n        </v-row>\n\n    <v-snackbar\n      v-model=\"snackbar\"\n    >\n      {{ snackbarText }}\n\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          color=\"pink\"\n          text\n          v-bind=\"attrs\"\n          @click=\"snackbar = false\"\n        >\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n\n\n    </v-container>\n</template>\n\n<script>\n\nexport default {\n    name: \"Login\",\n    components: {\n        \n    },\n    data(){\n        return {\n            showPass: false,\n            loginInfo: {\n                userName: \"\",\n                passWord: \"\"\n            },\n            goDark: true,\n            showLoading: false,\n            snackbar: false,\n            snackbarText: \"Login failed\"\n        }\n    },\n    methods: {\n        setWithExpiry(value, ttl){\n            const now = new Date()\n            const item = {\n                value: value,\n                expiry: now.getTime() + ttl*1000\n            }\n            return JSON.stringify(item)\n        },\n        async signInVue(){\n            this.showLoading = true;\n            let loginAttempt = await this.$store.dispatch(\"signIn\", this.loginInfo);\n            if (loginAttempt.error) {\n                this.showLoading = false;\n                this.snackbar = true;\n                if (loginAttempt.error.response.status===401){\n                    this.snackbarText = \"Username or/and password is not corrected\";\n                }else{\n                    this.snackbarText = \"Internal error\";\n                }\n            }else{\n                localStorage.setItem('authtoken',\n                    this.setWithExpiry(loginAttempt.authToken, 3600)\n                );\n                this.$router.push('/');\n            }\n        }\n    },\n    watch:{\n        goDark(){\n            this.$vuetify.theme.dark = !this.$vuetify.theme.dark;\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>"],"sourceRoot":"src/views"}]}